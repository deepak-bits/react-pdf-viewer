"use strict";var e=require("@react-pdf-viewer/core");function t(e){var t=Object.create(null);return e&&Object.keys(e).forEach((function(n){if("default"!==n){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:function(){return e[n]}})}})),t.default=e,Object.freeze(t)}var n=t(require("react")),r=function(){return n.createElement(e.Icon,{size:16},n.createElement("path",{d:"M2.32,2.966h19.452c0.552,0.001,1,0.449,0.999,1.001c0,0.182-0.05,0.36-0.144,0.516L12.9,20.552\n            c-0.286,0.472-0.901,0.624-1.373,0.338c-0.138-0.084-0.254-0.2-0.338-0.338L1.465,4.483C1.179,4.01,1.331,3.396,1.804,3.11\n            C1.96,3.016,2.138,2.966,2.32,2.966z"}))},a=function(){return n.createElement(e.Icon,{size:16},n.createElement("path",{d:"M0.541,5.627L11.666,18.2c0.183,0.207,0.499,0.226,0.706,0.043c0.015-0.014,0.03-0.028,0.043-0.043\n            L23.541,5.627"}))},o=function(){return n.createElement(e.Icon,{size:16},n.createElement("path",{d:"M23.535,18.373L12.409,5.8c-0.183-0.207-0.499-0.226-0.706-0.043C11.688,5.77,11.674,5.785,11.66,5.8\n            L0.535,18.373"}))},i=function(){return n.createElement(e.Icon,{size:16},n.createElement("path",{d:"M21.783,21.034H2.332c-0.552,0-1-0.448-1-1c0-0.182,0.05-0.361,0.144-0.517L11.2,3.448\n            c0.286-0.472,0.901-0.624,1.373-0.338c0.138,0.084,0.254,0.2,0.338,0.338l9.726,16.069c0.286,0.473,0.134,1.087-0.339,1.373\n            C22.143,20.984,21.965,21.034,21.783,21.034z"}))},u=function(){return u=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},u.apply(this,arguments)};"function"==typeof SuppressedError&&SuppressedError;var c=function(t){var r=n.useState(t.get("currentPage")||0),a=r[0],o=r[1],i=function(e){o(e)};return e.useIsomorphicLayoutEffect((function(){return t.subscribe("currentPage",i),function(){t.unsubscribe("currentPage",i)}}),[]),{currentPage:a}},l=function(e){var t=n.useState(e.get("numberOfPages")||0),r=t[0],a=t[1],o=function(e){a(e)};return n.useEffect((function(){return e.subscribe("numberOfPages",o),function(){e.unsubscribe("numberOfPages",o)}}),[]),{numberOfPages:r}},s=function(t){var r=t.store,a=n.useContext(e.LocalizationContext).l10n,o=n.useState("1"),i=o[0],u=o[1],s=c(r).currentPage,g=l(r).numberOfPages;n.useEffect((function(){return u("".concat(s+1))}),[s]);var f=function(e){var t=r.get("jumpToPage");t&&t(e)},m=a&&a.pageNavigation?a.pageNavigation.enterPageNumber:"Enter a page number";return n.createElement("span",{className:"rpv-page-navigation__current-page-input"},n.createElement(e.TextBox,{ariaLabel:m,testId:"page-navigation__current-page-input",type:"text",value:i,onChange:u,onKeyDown:function(e){switch(e.key){case"ArrowUp":(r=s-1)>=0&&(u("".concat(r+1)),f(r));break;case"ArrowDown":(n=s+1)<g&&(u("".concat(n+1)),f(n));break;case"Enter":t=parseInt(i,10),""===i||t<1||t>g?u("".concat(s+1)):f(t-1)}var t,n,r}}))},g=function(t){var r=t.children,a=t.doc,o=e.useIsMounted(),i=n.useState({loading:!0,labels:[]}),u=i[0],c=i[1];return n.useEffect((function(){a.getPageLabels().then((function(e){o.current&&c({loading:!1,labels:e||[]})}))}),[a.loadingTask.docId]),u.loading?n.createElement(n.Fragment,null):r(u.labels)},f=function(e){var t=e.children,r=e.store,a=function(e){var t=n.useState(e.get("doc")),r=t[0],a=t[1],o=function(e){a(e)};return n.useEffect((function(){return e.subscribe("doc",o),function(){e.unsubscribe("doc",o)}}),[]),r}(r),o=c(r).currentPage,i=l(r).numberOfPages,u=t||function(e){return n.createElement(n.Fragment,null,e.currentPage+1)};return a?n.createElement(g,{doc:a},(function(e){var t=e.length===i&&i>0?e[o]:"";return u({currentPage:o,numberOfPages:i,pageLabel:t})})):n.createElement(n.Fragment,null)},m={left:0,top:8},p=function(t){var r=t.isDisabled,a=t.onClick,o=n.useContext(e.LocalizationContext).l10n,u=o&&o.pageNavigation?o.pageNavigation.goToFirstPage:"First page";return n.createElement(e.Tooltip,{ariaControlsSuffix:"page-navigation-first",position:e.Position.BottomCenter,target:n.createElement(e.MinimalButton,{ariaLabel:u,isDisabled:r,testId:"page-navigation__first-button",onClick:a},n.createElement(i,null)),content:function(){return u},offset:m})},v=function(e){var t=e.children,r=e.store;return(t||function(e){return n.createElement(p,{isDisabled:e.isDisabled,onClick:e.onClick})})({isDisabled:0===c(r).currentPage,onClick:function(){var e=r.get("jumpToPage");e&&e(0)}})},d=function(t){var r=t.isDisabled,a=t.onClick,o=n.useContext(e.LocalizationContext).l10n,u=o&&o.pageNavigation?o.pageNavigation.goToFirstPage:"First page";return n.createElement(e.MenuItem,{icon:n.createElement(i,null),isDisabled:r,testId:"page-navigation__first-menu",onClick:a},u)},P={left:0,top:8},b=function(t){var a=t.isDisabled,o=t.onClick,i=n.useContext(e.LocalizationContext).l10n,u=i&&i.pageNavigation?i.pageNavigation.goToLastPage:"Last page";return n.createElement(e.Tooltip,{ariaControlsSuffix:"page-navigation-last",position:e.Position.BottomCenter,target:n.createElement(e.MinimalButton,{ariaLabel:u,isDisabled:a,testId:"page-navigation__last-button",onClick:o},n.createElement(r,null)),content:function(){return u},offset:P})},E=function(e){var t=e.children,r=e.store,a=c(r).currentPage,o=l(r).numberOfPages;return(t||function(e){return n.createElement(b,{isDisabled:e.isDisabled,onClick:e.onClick})})({isDisabled:a+1>=o,onClick:function(){var e=r.get("jumpToPage");e&&e(o-1)}})},C=function(t){var a=t.isDisabled,o=t.onClick,i=n.useContext(e.LocalizationContext).l10n,u=i&&i.pageNavigation?i.pageNavigation.goToLastPage:"Last page";return n.createElement(e.MenuItem,{icon:n.createElement(r,null),isDisabled:a,testId:"page-navigation__last-menu",onClick:o},u)},D={left:0,top:8},k=function(t){var r=t.isDisabled,o=t.onClick,i=n.useContext(e.LocalizationContext).l10n,u=i&&i.pageNavigation?i.pageNavigation.goToNextPage:"Next page";return n.createElement(e.Tooltip,{ariaControlsSuffix:"page-navigation-next",position:e.Position.BottomCenter,target:n.createElement(e.MinimalButton,{ariaLabel:u,isDisabled:r,testId:"page-navigation__next-button",onClick:o},n.createElement(a,null)),content:function(){return u},offset:D})},T=function(e){var t=e.children,r=e.store;return(t||function(e){return n.createElement(k,{onClick:e.onClick,isDisabled:e.isDisabled})})({isDisabled:c(r).currentPage+1>=l(r).numberOfPages,onClick:function(){var e=r.get("jumpToNextPage");e&&e()}})},x=function(t){var r=t.isDisabled,o=t.onClick,i=n.useContext(e.LocalizationContext).l10n,u=i&&i.pageNavigation?i.pageNavigation.goToNextPage:"Next page";return n.createElement(e.MenuItem,{icon:n.createElement(a,null),isDisabled:r,testId:"page-navigation__next-menu",onClick:o},u)},L={left:0,top:8},N=function(t){var r=t.isDisabled,a=t.onClick,i=n.useContext(e.LocalizationContext).l10n,u=i&&i.pageNavigation?i.pageNavigation.goToPreviousPage:"Previous page";return n.createElement(e.Tooltip,{ariaControlsSuffix:"page-navigation-previous",position:e.Position.BottomCenter,target:n.createElement(e.MinimalButton,{ariaLabel:u,isDisabled:r,testId:"page-navigation__previous-button",onClick:a},n.createElement(o,null)),content:function(){return u},offset:L})},j=function(e){var t=e.store;return(e.children||function(e){return n.createElement(N,{isDisabled:e.isDisabled,onClick:e.onClick})})({isDisabled:c(t).currentPage<=0,onClick:function(){var e=t.get("jumpToPreviousPage");e&&e()}})},I=function(t){var r=t.isDisabled,a=t.onClick,i=n.useContext(e.LocalizationContext).l10n,u=i&&i.pageNavigation?i.pageNavigation.goToPreviousPage:"Previous page";return n.createElement(e.MenuItem,{icon:n.createElement(o,null),isDisabled:r,testId:"page-navigation__previous-menu",onClick:a},u)},h=function(e){var t=e.children,r=e.store,a=l(r).numberOfPages;return t?t({numberOfPages:a}):n.createElement(n.Fragment,null,a)},y=function(t){var r=t.containerRef,a=t.numPages,o=t.store,i=c(o).currentPage,u=n.useRef(i);u.current=i;var l=n.useRef(!1),s=function(){l.current=!0},g=function(){l.current=!1},f=function(t){var n=r.current,i=l.current||document.activeElement&&n.contains(document.activeElement);if(n&&i){var c,s,g=t.altKey&&"ArrowDown"===t.key||!t.shiftKey&&!t.altKey&&"PageDown"===t.key,f=t.altKey&&"ArrowUp"===t.key||!t.shiftKey&&!t.altKey&&"PageUp"===t.key;if(g)return t.preventDefault(),c=o.get("jumpToPage"),s=u.current+1,void(c&&s<a&&c(s));if(f)return t.preventDefault(),void function(){var e=o.get("jumpToPage"),t=u.current-1;e&&t>=0&&e(t)}();if(e.isMac()?t.metaKey&&!t.ctrlKey:t.altKey)switch(t.key){case"ArrowLeft":t.preventDefault(),function(){var e=o.get("jumpToPreviousDestination");e&&e()}();break;case"ArrowRight":t.preventDefault(),function(){var e=o.get("jumpToNextDestination");e&&e()}()}}};return n.useEffect((function(){var e=r.current;if(e)return document.addEventListener("keydown",f),e.addEventListener("mouseenter",s),e.addEventListener("mouseleave",g),function(){document.removeEventListener("keydown",f),e.removeEventListener("mouseenter",s),e.removeEventListener("mouseleave",g)}}),[r.current]),n.createElement(n.Fragment,null)};exports.DownArrowIcon=r,exports.NextIcon=a,exports.PreviousIcon=o,exports.UpArrowIcon=i,exports.pageNavigationPlugin=function(t){var r=n.useMemo((function(){return Object.assign({},{enableShortcuts:!0},t)}),[]),a=n.useMemo((function(){return e.createStore()}),[]),o=function(e){return n.createElement(v,u({},e,{store:a}))},i=function(e){return n.createElement(E,u({},e,{store:a}))},c=function(e){return n.createElement(T,u({},e,{store:a}))},l=function(e){return n.createElement(j,u({},e,{store:a}))};return{install:function(e){a.update("jumpToDestination",e.jumpToDestination),a.update("jumpToNextDestination",e.jumpToNextDestination),a.update("jumpToNextPage",e.jumpToNextPage),a.update("jumpToPage",e.jumpToPage),a.update("jumpToPreviousDestination",e.jumpToPreviousDestination),a.update("jumpToPreviousPage",e.jumpToPreviousPage)},renderViewer:function(e){var t=e.slot;if(!r.enableShortcuts)return t;var o={children:n.createElement(n.Fragment,null,n.createElement(y,{containerRef:e.containerRef,numPages:e.doc.numPages,store:a}),t.children)};return u(u({},t),o)},onDocumentLoad:function(e){a.update("doc",e.doc),a.update("numberOfPages",e.doc.numPages)},onViewerStateChange:function(e){return a.update("currentPage",e.pageIndex),e},jumpToNextPage:function(){var e=a.get("jumpToNextPage");e&&e()},jumpToPage:function(e){var t=a.get("jumpToPage");t&&t(e)},jumpToPreviousPage:function(){var e=a.get("jumpToPreviousPage");e&&e()},CurrentPageInput:function(){return n.createElement(s,{store:a})},CurrentPageLabel:function(e){return n.createElement(f,u({},e,{store:a}))},GoToFirstPage:o,GoToFirstPageButton:function(){return n.createElement(o,null,(function(e){return n.createElement(p,u({},e))}))},GoToFirstPageMenuItem:function(e){return n.createElement(o,null,(function(t){return n.createElement(d,{isDisabled:t.isDisabled,onClick:function(){t.onClick(),e.onClick()}})}))},GoToLastPage:i,GoToLastPageButton:function(){return n.createElement(i,null,(function(e){return n.createElement(b,u({},e))}))},GoToLastPageMenuItem:function(e){return n.createElement(i,null,(function(t){return n.createElement(C,{isDisabled:t.isDisabled,onClick:function(){t.onClick(),e.onClick()}})}))},GoToNextPage:c,GoToNextPageButton:function(){return n.createElement(c,null,(function(e){return n.createElement(k,u({},e))}))},GoToNextPageMenuItem:function(e){return n.createElement(c,null,(function(t){return n.createElement(x,{isDisabled:t.isDisabled,onClick:function(){t.onClick(),e.onClick()}})}))},GoToPreviousPage:l,GoToPreviousPageButton:function(){return n.createElement(l,null,(function(e){return n.createElement(N,u({},e))}))},GoToPreviousPageMenuItem:function(e){return n.createElement(l,null,(function(t){return n.createElement(I,{isDisabled:t.isDisabled,onClick:function(){t.onClick(),e.onClick()}})}))},NumberOfPages:function(e){return n.createElement(h,u({},e,{store:a}))}}};
